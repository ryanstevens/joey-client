import plaid from './plaid';
import welcome from './welcome';
import nav from './nav';
import top_nav from './top_nav'
import login from './login';
import create_account from './create_account';

const modules = {
  plaid,
  welcome,
  nav,
  top_nav,
  login,
  create_account
};

function pluck(prop) {
  return pluckFilter(prop);
}

function pluckFilter(prop, filterKey, filterValue) {
  filterValue = filterValue || true;

  return Object.keys(modules).reduce((acc, cur) => {
    if (filterKey && modules[cur].meta[filterKey] != filterValue) return acc; 
    if (modules[cur][prop]) {
      acc[cur] = modules[cur][prop];
    }
    return acc;
  }, {});  
}

const reducers = pluck('reducer');
const components = pluck('component');
const action_types =  pluck('action_type');

module.exports = {
  modules,
  reducers,
  components,
  action_types,
  pluck,
  pluckFilter
}